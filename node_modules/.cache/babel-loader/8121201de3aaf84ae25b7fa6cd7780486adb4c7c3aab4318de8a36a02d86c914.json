{"ast":null,"code":"var _jsxFileName = \"E:\\\\BizTecno\\\\slide-fe-service\\\\src\\\\containers\\\\ImageTraining\\\\ImageTraining.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Input } from \"semantic-ui-react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport CustomButton from \"components/CustomButton\";\nimport { fetchRequest } from \"Api\";\nimport { getBaseUrl, getImageTrainingList, getToken } from \"store/selectors\";\nimport { SVGType } from \"components/SvgIcon\";\nimport { ICON_POSITION } from \"components/CustomButton/CustomButton\";\nimport { requestImageTrainingList } from \"store/rext\";\nimport Loading from \"components/Loading\";\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function useImageThumbnail(imageId) {\n  _s();\n  const [downloadStarted, setDownloadStarted] = useState(false);\n  const [imageInfo, setImageInfo] = useState({});\n  const baseUrl = useSelector(getBaseUrl);\n  const token = useSelector(getToken);\n  const fetchImageDetail = useCallback(async () => {\n    try {\n      const response = await fetchRequest(`${baseUrl}/image-upload/v1/${imageId}`, token, \"get\");\n      setImageInfo(response.data);\n    } catch (error) {\n      setImageInfo({\n        error: true\n      });\n    }\n  }, [imageId]);\n  useEffect(() => {\n    if (imageId && !downloadStarted) {\n      setDownloadStarted(true);\n      fetchImageDetail();\n    }\n  }, [imageId]);\n  return imageInfo;\n}\n_s(useImageThumbnail, \"oiWLaqWNtoymx3vK2SD/mPC8++4=\", false, function () {\n  return [useSelector, useSelector];\n});\nfunction ImageThumbnail({\n  imageData\n}) {\n  _s2();\n  const {\n    imageid\n  } = imageData;\n  const data = useImageThumbnail(imageid);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-column width-25 padding-4\",\n    children: [(data === null || data === void 0 ? void 0 : data.signedUrl) && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: data === null || data === void 0 ? void 0 : data.signedUrl,\n      className: \"width-100\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: data.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s2(ImageThumbnail, \"lzk7URMV//BlRDV2BWdtzcnAAsk=\", false, function () {\n  return [useImageThumbnail];\n});\n_c = ImageThumbnail;\nexport default function ImageTraining() {\n  _s3();\n  var _imageTrainingData$re;\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    data: imageTrainingData,\n    fetching\n  } = useSelector(getImageTrainingList);\n  const [prompt, setPrompt] = useState(\"\");\n  const handleInputChange = e => {\n    setPrompt(e.target.value);\n  };\n  const handleClick = () => {\n    dispatch(requestImageTrainingList(prompt));\n  };\n  const renderImageCard = (imageData, index) => {\n    return /*#__PURE__*/_jsxDEV(ImageThumbnail, {\n      imageData: imageData\n    }, imageData.imageid, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-justify-start\",\n      children: /*#__PURE__*/_jsxDEV(CustomButton, {\n        primaryButton: true,\n        type: \"button\",\n        handleClick: () => navigate(-1),\n        iconProps: {\n          name: \"arrow left\",\n          svgType: SVGType.SEMANTIC,\n          size: \"large\",\n          baseclassname: \"text-default-color\"\n        },\n        iconPosition: ICON_POSITION.RIGHT,\n        transparent: true,\n        noOutline: true,\n        baseclassname: \"cursor-pointer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-align-center flex-justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Enter Prompt\",\n        value: prompt,\n        onChange: handleInputChange,\n        className: \"width-40 margin-t-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"margin-t-8 margin-l-2\",\n        children: /*#__PURE__*/_jsxDEV(CustomButton, {\n          buttonText: \"Search\",\n          handleClick: handleClick,\n          gradientButton: true,\n          baseclassname: \"cursor-pointer\",\n          disabled: !prompt.length,\n          round: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row flex-wrap\",\n      children: imageTrainingData === null || imageTrainingData === void 0 ? void 0 : (_imageTrainingData$re = imageTrainingData.results) === null || _imageTrainingData$re === void 0 ? void 0 : _imageTrainingData$re.map(renderImageCard)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), fetching && /*#__PURE__*/_jsxDEV(Loading, {\n      isGlobal: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s3(ImageTraining, \"0r1Z5sj/5pQLnNapKGUO6bWBqk4=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n_c2 = ImageTraining;\nvar _c, _c2;\n$RefreshReg$(_c, \"ImageThumbnail\");\n$RefreshReg$(_c2, \"ImageTraining\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","Input","useNavigate","useDispatch","useSelector","CustomButton","fetchRequest","getBaseUrl","getImageTrainingList","getToken","SVGType","ICON_POSITION","requestImageTrainingList","Loading","jsxDEV","_jsxDEV","useImageThumbnail","imageId","_s","downloadStarted","setDownloadStarted","imageInfo","setImageInfo","baseUrl","token","fetchImageDetail","response","data","error","ImageThumbnail","imageData","_s2","imageid","className","children","signedUrl","src","fileName","_jsxFileName","lineNumber","columnNumber","title","_c","ImageTraining","_s3","_imageTrainingData$re","navigate","dispatch","imageTrainingData","fetching","prompt","setPrompt","handleInputChange","e","target","value","handleClick","renderImageCard","index","primaryButton","type","iconProps","name","svgType","SEMANTIC","size","baseclassname","iconPosition","RIGHT","transparent","noOutline","placeholder","onChange","buttonText","gradientButton","disabled","length","round","results","map","isGlobal","_c2","$RefreshReg$"],"sources":["E:/BizTecno/slide-fe-service/src/containers/ImageTraining/ImageTraining.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { Input } from \"semantic-ui-react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport CustomButton from \"components/CustomButton\";\nimport { fetchRequest } from \"Api\";\nimport { getBaseUrl, getImageTrainingList, getToken } from \"store/selectors\";\n\nimport { SVGType } from \"components/SvgIcon\";\nimport { ICON_POSITION } from \"components/CustomButton/CustomButton\";\nimport { requestImageTrainingList } from \"store/rext\";\nimport Loading from \"components/Loading\";\n\nimport \"./style.scss\"\n\n\nexport function useImageThumbnail(imageId: string) {\n  const [downloadStarted, setDownloadStarted] = useState<boolean>(false);\n  const [imageInfo, setImageInfo] = useState<any>({});\n  const baseUrl = useSelector(getBaseUrl);\n  const token = useSelector(getToken);\n\n  const fetchImageDetail = useCallback(async () => {\n    try {\n      const response = await fetchRequest(`${baseUrl}/image-upload/v1/${imageId}`, token, \"get\");\n      setImageInfo(response.data);\n    } catch (error) {\n      setImageInfo({ error: true });\n    }\n  }, [imageId]);\n\n  useEffect(() => {\n    if (imageId && !downloadStarted) {\n      setDownloadStarted(true);\n      fetchImageDetail();\n    }\n  }, [imageId]);\n\n  return imageInfo;\n}\n\n\nfunction ImageThumbnail({ imageData }: any) {\n  const { imageid } = imageData;\n  const data = useImageThumbnail(imageid);\n  return (\n    <div className=\"flex flex-column width-25 padding-4\">\n      {data?.signedUrl && <img src={data?.signedUrl} className=\"width-100\" />}\n      <div>{data.title}</div>\n    </div>\n  )\n}\n\nexport default function ImageTraining() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { data: imageTrainingData, fetching } = useSelector(getImageTrainingList);\n\n  const [prompt, setPrompt] = useState<string>(\"\");\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setPrompt(e.target.value);\n  };\n\n  const handleClick = () => {\n    dispatch(requestImageTrainingList(prompt))\n  };\n\n  const renderImageCard = (imageData: any, index: number) => {\n    return (<ImageThumbnail imageData={imageData} key={imageData.imageid} />)\n  }\n\n  return (\n    <div className=\"flex flex-column\">\n      <div className=\"flex flex-justify-start\">\n        <CustomButton\n          primaryButton\n          type=\"button\"\n          handleClick={() => navigate(-1)}\n          iconProps={{\n            name: \"arrow left\",\n            svgType: SVGType.SEMANTIC,\n            size: \"large\",\n            baseclassname: \"text-default-color\",\n          }}\n          iconPosition={ICON_POSITION.RIGHT}\n          transparent\n          noOutline\n          baseclassname={\"cursor-pointer\"}\n        />\n      </div>\n      <div className=\"flex flex-align-center flex-justify-center\">\n        <Input type=\"text\" placeholder={\"Enter Prompt\"} value={prompt} onChange={handleInputChange} className=\"width-40 margin-t-8\" />\n        <div className=\"margin-t-8 margin-l-2\">\n          <CustomButton buttonText={\"Search\"} handleClick={handleClick} gradientButton baseclassname={\"cursor-pointer\"} disabled={!prompt.length} round />\n        </div>\n      </div>\n      <div className=\"flex flex-row flex-wrap\">\n        {\n          imageTrainingData?.results?.map(renderImageCard)\n        }\n      </div>\n      {fetching && <Loading isGlobal/>}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}