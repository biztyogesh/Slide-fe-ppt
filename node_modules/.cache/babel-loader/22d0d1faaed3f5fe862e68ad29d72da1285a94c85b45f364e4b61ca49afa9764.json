{"ast":null,"code":"var _jsxFileName = \"E:\\\\BizTecno\\\\slide-fe-service\\\\src\\\\components\\\\FormInputs\\\\HookFormTagInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { Fragment, useEffect, useRef, useState } from \"react\";\nimport { Controller } from \"react-hook-form\";\nimport classNames from \"classnames\";\nimport CustomButton from \"components/CustomButton\";\nimport { SVGType } from \"components/SvgIcon\";\nimport { ICON_POSITION } from \"components/CustomButton/CustomButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function HookFormTagInput(props) {\n  _s();\n  const {\n    label,\n    labelClassName,\n    baseClassName,\n    name,\n    validation,\n    control,\n    errors,\n    inputClassName,\n    id,\n    defaultValue,\n    setValue,\n    imageTags\n  } = props;\n  const [tags, setTags] = useState(defaultValue || []);\n  const tagContainerRef = useRef(null);\n  const [currentInput, setCurrentInput] = useState(\"\");\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingTagIndex, setEditingTagIndex] = useState(-1);\n  const handleInputKeyDown = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (currentInput.trim() !== \"\") {\n        if (isEditing && editingTagIndex !== -1) {\n          const updatedTags = [...tags];\n          updatedTags[editingTagIndex] = currentInput;\n          setTags(updatedTags);\n          setValue(name, updatedTags);\n          setCurrentInput(\"\");\n          setIsEditing(false);\n          setEditingTagIndex(-1);\n        } else {\n          setTags(prev => [...prev, currentInput]);\n          setValue(name, [...tags, currentInput]);\n          setCurrentInput(\"\");\n        }\n      }\n    }\n  };\n  const handleTagClick = (tag, index) => {\n    if (!isEditing) {\n      setCurrentInput(tag);\n      setIsEditing(true);\n      setEditingTagIndex(index);\n    }\n  };\n  const handleTagRemove = tagToRemove => {\n    const updatedTags = tags.filter(tag => tag !== tagToRemove);\n    setTags(updatedTags);\n    setValue(name, updatedTags);\n  };\n  const handleEditInputChange = e => {\n    setCurrentInput(e.target.value);\n    setValue(name, currentInput);\n  };\n  const handleEditInputBlur = () => {\n    if (isEditing) {\n      setIsEditing(false);\n      setEditingTagIndex(-1);\n    }\n  };\n  useEffect(() => {\n    setTags(defaultValue || []);\n  }, [defaultValue]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classNames([\"flex flex-column custom-input\", baseClassName]),\n      children: [label && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classNames([\"text-4 text-bold\", labelClassName]),\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), control && /*#__PURE__*/_jsxDEV(Controller, {\n        control: control,\n        name: name,\n        defaultValue: defaultValue,\n        rules: validation || {},\n        render: ({\n          field: {\n            value\n          }\n        }) => /*#__PURE__*/_jsxDEV(\"input\", {\n          id: id,\n          className: inputClassName || \"\",\n          onChange: handleEditInputChange,\n          onBlur: handleEditInputBlur,\n          onKeyDown: e => handleInputKeyDown(e),\n          value: currentInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), errors[name] && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        children: errors[name].message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tagContainerRef,\n      className: classNames(\"flex flex-row flex-wrap tags-container\", {\n        \"width-81 height-25\": imageTags\n      }, {\n        \"margin-l-4  width-90 height-30\": !imageTags\n      }),\n      children: tags === null || tags === void 0 ? void 0 : tags.map((tag, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classNames([\"flex flex-align-center background-secondary-color text-primary-color padding-4 margin-2 tags\"]),\n        children: [isEditing && index === editingTagIndex ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cursor-pointer\",\n          contentEditable: true,\n          suppressContentEditableWarning: true,\n          onBlur: handleEditInputBlur,\n          onKeyDown: e => handleInputKeyDown(e),\n          children: currentInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cursor-pointer margin-l-2\",\n          onClick: () => handleTagClick(tag, index),\n          children: tag\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CustomButton, {\n          primaryButton: true,\n          type: \"button\",\n          handleClick: () => handleTagRemove(tag),\n          iconPosition: ICON_POSITION.RIGHT,\n          iconProps: {\n            name: \"close\",\n            svgType: SVGType.SEMANTIC,\n            size: \"small\",\n            baseclassname: \"text-danger-color\"\n          },\n          transparent: true,\n          noOutline: true,\n          baseclassname: \"cursor-pointer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n_s(HookFormTagInput, \"DytcF6Bk660e3X4OViXB5efxe9E=\");\n_c = HookFormTagInput;\nvar _c;\n$RefreshReg$(_c, \"HookFormTagInput\");","map":{"version":3,"names":["React","Fragment","useEffect","useRef","useState","Controller","classNames","CustomButton","SVGType","ICON_POSITION","jsxDEV","_jsxDEV","HookFormTagInput","props","_s","label","labelClassName","baseClassName","name","validation","control","errors","inputClassName","id","defaultValue","setValue","imageTags","tags","setTags","tagContainerRef","currentInput","setCurrentInput","isEditing","setIsEditing","editingTagIndex","setEditingTagIndex","handleInputKeyDown","e","key","preventDefault","trim","updatedTags","prev","handleTagClick","tag","index","handleTagRemove","tagToRemove","filter","handleEditInputChange","target","value","handleEditInputBlur","children","className","fileName","_jsxFileName","lineNumber","columnNumber","rules","render","field","onChange","onBlur","onKeyDown","style","color","message","ref","map","contentEditable","suppressContentEditableWarning","onClick","primaryButton","type","handleClick","iconPosition","RIGHT","iconProps","svgType","SEMANTIC","size","baseclassname","transparent","noOutline","_c","$RefreshReg$"],"sources":["E:/BizTecno/slide-fe-service/src/components/FormInputs/HookFormTagInput.tsx"],"sourcesContent":["import React, { Fragment, useEffect, useRef, useState } from \"react\";\nimport { Controller } from \"react-hook-form\";\nimport classNames from \"classnames\";\nimport CustomButton from \"components/CustomButton\";\nimport { SVGType } from \"components/SvgIcon\";\nimport { ICON_POSITION } from \"components/CustomButton/CustomButton\";\n\ninterface HookFormTagInputProps {\n  label: string;\n  labelClassName?: string;\n  baseClassName?: string;\n  name: string;\n  validation?: any;\n  control: any;\n  errors: any;\n  inputClassName?: string;\n  id?: string;\n  defaultValue?: string[];\n  setValue?: any;\n  getValue?: (name: string) => string[];\n  imageTags?: boolean;\n}\n\nexport function HookFormTagInput(props: HookFormTagInputProps) {\n  const {\n    label,\n    labelClassName,\n    baseClassName,\n    name,\n    validation,\n    control,\n    errors,\n    inputClassName,\n    id,\n    defaultValue,\n    setValue,\n    imageTags\n  } = props;\n\n  const [tags, setTags] = useState<string[]>(defaultValue || []);\n  const tagContainerRef = useRef<any>(null);\n  const [currentInput, setCurrentInput] = useState<string>(\"\");\n  const [isEditing, setIsEditing] = useState<boolean>(false);\n  const [editingTagIndex, setEditingTagIndex] = useState<number>(-1);\n\n  const handleInputKeyDown = (e: any) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (currentInput.trim() !== \"\") {\n        if (isEditing && editingTagIndex !== -1) {\n          const updatedTags = [...tags];\n          updatedTags[editingTagIndex] = currentInput;\n          setTags(updatedTags);\n          setValue(name, updatedTags);\n          setCurrentInput(\"\");\n          setIsEditing(false);\n          setEditingTagIndex(-1);\n        } else {\n          setTags((prev) => [...prev, currentInput]);\n          setValue(name, [...tags, currentInput]);\n          setCurrentInput(\"\");\n        }\n      }\n    }\n  };\n\n  const handleTagClick = (tag: string, index: number) => {\n    if (!isEditing) {\n      setCurrentInput(tag);\n      setIsEditing(true);\n      setEditingTagIndex(index);\n    }\n  };\n\n  const handleTagRemove = (tagToRemove: string) => {\n    const updatedTags = tags.filter((tag) => tag !== tagToRemove);\n    setTags(updatedTags);\n    setValue(name, updatedTags);\n  };\n\n  const handleEditInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setCurrentInput(e.target.value);\n    setValue(name, currentInput);\n  };\n\n  const handleEditInputBlur = () => {\n    if (isEditing) {\n      setIsEditing(false);\n      setEditingTagIndex(-1);\n    }\n  };\n\n  \n  useEffect(() => {\n      setTags(defaultValue || []);\n  }, [defaultValue]);\n\n  return (\n    <Fragment>\n      <div\n        className={classNames([\"flex flex-column custom-input\", baseClassName])}\n      >\n        {label && (\n          <div className={classNames([\"text-4 text-bold\", labelClassName])}>\n            {label}\n          </div>\n        )}\n        {control && (\n          <Controller\n            control={control}\n            name={name}\n            defaultValue={defaultValue}\n            rules={validation || {}}\n            render={({ field: { value } }) => (\n              <input\n                id={id}\n                className={inputClassName || \"\"}\n                onChange={handleEditInputChange}\n                onBlur={handleEditInputBlur}\n                onKeyDown={(e) => handleInputKeyDown(e)}\n                value={currentInput}\n              />\n            )}\n          />\n        )}\n        {errors[name] && (\n          <div style={{ color: \"red\" }}>{errors[name].message}</div>\n        )}\n      </div>\n      <div ref={tagContainerRef} className={classNames(\"flex flex-row flex-wrap tags-container\",{\"width-81 height-25\": imageTags} , {\"margin-l-4  width-90 height-30\" : !imageTags})} >\n        {tags?.map((tag, index) => (\n          <div\n            key={index}\n            className={classNames([\"flex flex-align-center background-secondary-color text-primary-color padding-4 margin-2 tags\"])}\n          >\n            {isEditing && index === editingTagIndex ? (\n              <span\n                className=\"cursor-pointer\"\n                contentEditable\n                suppressContentEditableWarning\n                onBlur={handleEditInputBlur}\n                onKeyDown={(e) => handleInputKeyDown(e)}\n              >\n                {currentInput}\n              </span>\n            ) : (\n              <span\n                className=\"cursor-pointer margin-l-2\"\n                onClick={() => handleTagClick(tag, index)}\n              >\n                {tag }\n              </span>\n            )}\n            <CustomButton\n              primaryButton\n              type=\"button\"\n              handleClick={() => handleTagRemove(tag)}\n              iconPosition={ICON_POSITION.RIGHT}\n              iconProps={{\n                name: \"close\",\n                svgType: SVGType.SEMANTIC,\n                size: \"small\",\n                baseclassname: \"text-danger-color\",\n              }}\n              transparent\n              noOutline\n              baseclassname={\"cursor-pointer\"}\n            />\n          </div>\n        ))}\n      </div>\n    </Fragment>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}